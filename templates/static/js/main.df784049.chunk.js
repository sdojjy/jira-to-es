(window["webpackJsonpjira-issue-search"]=window["webpackJsonpjira-issue-search"]||[]).push([[0],{66:function(e,t,a){e.exports=a(95)},94:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r,n=a(135),c=a(151),i=a(14);!function(e){e.START_SEARCHING="START_SEARCHING",e.FINISH_SEARCHING="FINISH_SEARCHING",e.SET_SEARCH_KEYWORD="SET_SEARCH_KEYWORD",e.SET_SEARCH_START="SET_SEARCH_START",e.SET_SEARCH_MESSAGE="SET_SEARCH_MESSAGE",e.GET_SEARCH_RESULT="GET_SEARCH_RESULT",e.RESET_SEARCH_RESULT="RESET_SEARCH_RESULT"}(r||(r={}));var s={ROOT_URL:""},o=a(55),l=a.n(o),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return l.a.get("".concat(s.ROOT_URL,"/search/issues?q=").concat(e,"&from=").concat(t,"&size=").concat(a))},m={type:r.START_SEARCHING},E={type:r.FINISH_SEARCHING},h=function(e){return{type:r.SET_SEARCH_KEYWORD,searchKeyword:e}},g=function(e){return{type:r.SET_SEARCH_START,searchStart:e}},S={type:r.RESET_SEARCH_RESULT},p=function(e){return{type:r.GET_SEARCH_RESULT,result:e}},d=function(e){return{type:r.SET_SEARCH_MESSAGE,searchMessage:e}};var f=a(140),R=a(142),_=a(58),T=a.n(_),v=a(143),A=a(141),O=a(150),b=a(137),y=a(139),C=a(138),w=a(0),N=a.n(w),I=a(56),H=a.n(I),j=a(96),M=/<em>.*?<\/em>/g,k=/<em>/g,L=/<\/em>/g;var G=Object(n.a)(function(e){return Object(c.a)({card:{position:"relative",height:"100%"},keywords:{paddingTop:e.spacing(1)},highlight:{"& p":{margin:"0 ".concat(e.spacing(1))}},matchLines:{"& strong":{color:H.a[700]}},link:{color:"inherit",textDecoration:"none"}})});function x(e){var t=G(),a=e.issue;return N.a.createElement(b.a,{className:t.card},N.a.createElement(C.a,null,N.a.createElement(j.a,{variant:"h5"},a.title),N.a.createElement(j.a,{color:"textSecondary",className:t.keywords},"\u5173\u952e\u8bcd\uff1a",a.highlight.map(function(e){return e.match(M)}).filter(function(e){return null!==e}).map(function(e){return e.map(function(e){return e.replace(k,"").replace(L,"")})}).flat().filter(function(e,t,a){return a.indexOf(e)===t}).join("\uff0c"))),N.a.createElement(C.a,{className:t.highlight},N.a.createElement(j.a,{color:"textSecondary"},"\u5339\u914d\u5904\uff1a"),a.highlight.length>0&&a.highlight.filter(function(e,t,a){return a.indexOf(e)===t}).map(function(e){return e.replace(k,"<strong>").replace(L,"</strong>")}).map(function(e,a){return N.a.createElement("p",{key:e[0]+a,className:t.matchLines,dangerouslySetInnerHTML:{__html:e}})})),N.a.createElement(y.a,null,N.a.createElement(f.a,{color:"primary"},N.a.createElement("a",{href:a.link,target:"blank",className:t.link},"\u6253\u5f00 Jira \u94fe\u63a5"))))}var P=a(24),D=Object(n.a)(function(e){return Object(c.a)({circularProgress:{margin:"0 auto",marginTop:"3rem"},searchMessage:{width:"100%",marginTop:"3rem",textAlign:"center"},girdItem:{padding:e.spacing(1)},loadMore:{margin:"2rem 0",textAlign:"center"},loadMoreLoading:{color:"#fff"},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}})});var U=Object(P.b)(function(e){return{searching:e.search.searching,searchMessage:e.search.searchMessage,searchResult:e.search.searchResult}},function(e){return{handleLoadingMore:function(){return e(function(e,t){var a=t().search,r=a.searchKeyword,n=a.searchStart,c=a.searchResult,s=n+10;e(m),u(r,s).then(function(t){var a=t.data;null!==a.items&&(c.items.map(function(e){return e.grow=!1}),a.items.map(function(e){return e.grow=!0}),e(p({total:a.total,items:[].concat(Object(i.a)(c.items),Object(i.a)(a.items))})),e(g(s))),e(E)})})},handleClearAll:function(){return e(function(e){e(S),e(h("")),e(g(0)),e(d(""))})}}})(function(e){var t=D(),a=e.searching,r=e.searchMessage,n=e.searchResult,c=e.handleLoadingMore,i=e.handleClearAll;return N.a.createElement("div",{className:"Jira-Issue-Search-IssuesList"},N.a.createElement(A.a,{container:!0},a&&0===n.items.length&&N.a.createElement(R.a,{className:t.circularProgress}),r&&N.a.createElement("div",{className:t.searchMessage},N.a.createElement(j.a,{variant:"h6"},r)),n.items.length>0&&n.items.map(function(e,a){return e.grow?N.a.createElement(O.a,{key:e.title+a,in:!0,timeout:a%10*500},N.a.createElement(A.a,{item:!0,md:4,sm:12,xs:12,className:t.girdItem},N.a.createElement(x,{issue:e}))):N.a.createElement(A.a,{key:e.title+a,item:!0,md:4,sm:12,xs:12,className:t.girdItem},N.a.createElement(x,{issue:e}))})),n.items.length>0&&N.a.createElement("div",{className:t.loadMore},N.a.createElement(f.a,{variant:"contained",color:"primary",onClick:c},a?N.a.createElement(R.a,{size:24,className:t.loadMoreLoading}):"\u52a0\u8f7d\u66f4\u591a")),n.items.length>0&&N.a.createElement(v.a,{color:"primary",className:t.fab,onClick:i},N.a.createElement(T.a,null)))}),K=a(148),J=a(10),B=(a(94),a(144)),W=a(145),F=Object(n.a)(function(e){return Object(c.a)({appBar:{background:"#0747A6"},logo:Object(J.a)({position:"absolute",width:"100px"},e.breakpoints.down("sm"),{position:"relative"}),title:{flex:1,textAlign:"center"}})});function Y(){var e=F();return N.a.createElement("nav",{className:"Jira-Issue-Search-MenuBar"},N.a.createElement(B.a,{position:"fixed",className:e.appBar},N.a.createElement(W.a,null,N.a.createElement("img",{src:"pingcap-logo.png",alt:"pingcap-logo",className:e.logo}),N.a.createElement(j.a,{variant:"h5",className:e.title},"Jira Issue Search"))))}var z=a(61),X=a(147),q=a(146),V=a(59),$=a.n(V),Q=a(149),Z=Object(n.a)(function(e){return Object(c.a)({searchInput:{width:"100%",marginTop:e.spacing(2),marginBottom:e.spacing(2),"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:e.palette.primary.main}}}})});var ee=Object(P.b)(null,function(e){return{handleSearchAction:function(t){return e((a=t,function(e){e(S),e(h(a)),e(g(0)),e(d("")),e(m),u(a).then(function(t){var a=t.data;0!==a.total?(a.items.map(function(e){return e.grow=!0}),e(p(a))):e(d("\u65e0\u641c\u7d22\u7ed3\u679c")),e(E)})}));var a}}})(function(e){var t=Z(),a=Object(w.useState)(""),r=Object(z.a)(a,2),n=r[0],c=r[1],i=function(){""!==n&&e.handleSearchAction(n)};return N.a.createElement("div",{className:"Jira-Issue-Search-SearchInput"},N.a.createElement(Q.a,{type:"search",label:"\u641c\u7d22 issues",className:t.searchInput,variant:"outlined",value:n,onChange:function(e){return c(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(i(),e.target.blur())},InputProps:{endAdornment:N.a.createElement(q.a,{position:"end"},N.a.createElement(X.a,{edge:"end",onClick:i},N.a.createElement($.a,{color:""===n?"default":"primary"})))}}))});function te(){return N.a.createElement("div",{className:"Jira-Issue-Search-Container"},N.a.createElement(Y,null),N.a.createElement(K.a,null,N.a.createElement(ee,null),N.a.createElement(U,null)))}var ae=a(20);function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach(function(t){Object(J.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searching:!1,searchKeyword:"",searchStart:0,searchMessage:"",searchResult:{total:0,items:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.START_SEARCHING:return ne({},e,{searching:!0});case r.FINISH_SEARCHING:return ne({},e,{searching:!1});case r.SET_SEARCH_KEYWORD:return ne({},e,{searchKeyword:t.searchKeyword});case r.SET_SEARCH_START:return ne({},e,{searchStart:t.searchStart});case r.SET_SEARCH_MESSAGE:return ne({},e,{searchMessage:t.searchMessage});case r.GET_SEARCH_RESULT:return ne({},e,{searchResult:t.result});case r.RESET_SEARCH_RESULT:return ne({},e,{searchResult:{total:0,items:[]}});default:return e}},ie=Object(ae.c)({search:ce}),se=[a(60).a],oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ae.d,le=Object(ae.e)(ie,void 0,oe(ae.a.apply(void 0,se))),ue=function(){return N.a.createElement("div",{className:"Jira-Issue-Search-App"},N.a.createElement(P.a,{store:le},N.a.createElement(te,null)))},me=a(8);a.n(me).a.render(N.a.createElement(ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[66,1,2]]]);
//# sourceMappingURL=main.df784049.chunk.js.map